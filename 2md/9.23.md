好的，这是湖科大教书匠2024年9月23日发布的2026考研计算机网络每日一题。

### 题目原文 (Markdown格式)

**【单选题】** BGP路由选择规则的优先级从高到低的顺序是（ ）。

A. 属性LOCAL-PREF的值，AS跳数，热土豆路由选择算法，路由器的BGP标识符的数值 

B. 属性LOCAL-PREF的值，热土豆路由选择算法，AS跳数，路由器的BGP标识符的数值 

C. 路由器的BGP标识符的数值，属性LOCAL-PREF的值，热土豆路由选择算法，AS跳数 

D. 路由器的BGP标识符的数值，AS跳数，热土豆路由选择算法，属性LOCAL-PREF的值

------

### 408考研深度解析

**【考点分析】**

本题考察的是**边界网关协议（BGP）**的核心内容——**最佳路由选择过程**。BGP是互联网中用于自治系统（AS）之间交换路由信息的协议。与OSPF、RIP等内部网关协议（IGP）不同，BGP不依赖单一的度量值（如跳数或开销），而是基于一系列复杂的路径属性，按照严格的优先级顺序来选择最佳路径。掌握这个选择顺序是BGP部分的重中之重。

**BGP最佳路径选择算法（简化版关键步骤）：**

BGP路由器在收到到达同一目的地的多条路径信息后，会依次执行以下规则，只要有一条规则能够选出唯一的最佳路径，选择过程就停止。

1. **（最高优先级）Highest LOCAL-PREF (本地偏好)**：`LOCAL-PREF`是一个在AS内部传递的属性，用于告知AS内的所有BGP路由器离开本AS的首选路径。**值越大越优先**。这是影响出站流量的最常用、最高效的属性。
2. **Shortest AS_PATH (最短AS路径)**：`AS_PATH`属性记录了路由信息经过的AS序列。BGP会选择`AS_PATH`列表中包含AS数量最少的路径，即经过的**AS跳数**最少的路径。**跳数越少越优先**。
3. **（...其他规则如Origin Code, MED等...）**
4. **Hot-Potato Routing (热土豆路由)**：如果经过以上规则后仍有多条路径可选（通常是因为这些路径都是从AS内部的iBGP邻居学来的），路由器会选择**IGP度量值最小**的下一跳。也就是说，路由器会选择一条能最快“甩掉”数据包（把包扔出自己的AS）的路径，就像手里拿着一个烫手的土豆一样，故名“热土豆路由”。
5. **Lowest Router ID (最低路由器ID)**：作为最后的决胜局（Tie-Breaker）之一，如果所有前面的属性都相同，路由器会选择来自**BGP标识符（Router ID）数值最小**的对等体（邻居）的路径。Router ID通常是路由器的一个IP地址。

**解题思路：**

根据上述规则，我们将题目中出现的四个属性按照优先级从高到低排列：

1. **属性LOCAL-PREF的值** (规则#1)
2. **AS跳数** (规则#2，即AS_PATH长度)
3. **热土豆路由选择算法** (Hot-Potato，选择IGP度量最小的下一跳)
4. **路由器的BGP标识符的数值** (最后的Tie-Breaker之一)

将这个顺序与选项进行比对：

- **A. 属性LOCAL-PREF的值，AS跳数，热土豆路由选择算法，路由器的BGP标识符的数值** —— **顺序完全正确**。
- B. ...热土豆路由选择算法，AS跳数... —— 错误，AS跳数优先级高于热土豆路由。
- C. ...路由器的BGP标识符的数值... —— 错误，Router ID是最后的决胜手段，优先级很低。
- D. ...路由器的BGP标识符的数值... —— 错误，理由同C。

**【备考提示】** BGP协议是408网络部分的难点，但其路径选择过程是有规律可循的。考生在复习时：

1. **必须背诵**：至少要记住几个关键属性的优先级顺序，特别是 `LOCAL-PREF` > `AS_PATH` > `Origin Code` > `MED`，以及最后的决胜规则如 `Router ID`。
2. **理解属性作用**：单纯的死记硬背容易混淆。要理解每个属性的含义和应用场景，例如`LOCAL-PREF`用于控制**本AS的出向流量**，`MED`用于影响**邻居AS的入向流量**。
3. **区分IGP与EGP**：深刻理解BGP作为外部网关协议（EGP），其选路依据的是策略（Path Attributes）而非简单的度量（Metric），这与OSPF、RIP等IGP有本质区别。