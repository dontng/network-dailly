好的，这是湖科大教书匠2024年9月17日发布的2026考研计算机网络每日一题。

### 题目原文 (Markdown格式)

**【单选题】** 若TCP发送方收到接收方发来的零窗口报文段，则TCP发送方会发送零窗口探测报文段，并且还要启动的相应计时器是（ ）。

A. 重传计时器 

B. 时间等待计时器 

C. 保活计时器 

D. 持续计时器

------

### 408考研深度解析

**【考点分析】**

本题考察的是**TCP协议的流量控制机制**，具体是为解决“零窗口”问题而设计的计时器。TCP的四个主要计时器（重传、持续、保活、时间等待）的功能区分是408考研的重点和高频考点。

**1. “零窗口”问题的产生：** TCP利用滑动窗口机制进行流量控制。接收方通过TCP报头中的“窗口大小”（Window Size）字段告诉发送方自己还有多少可用的接收缓存空间。当接收方缓存已满，无法再接收数据时，它会发送一个窗口大小为0的确认报文段。发送方收到后，就会停止发送数据。

**2. 可能出现的死锁：** 如果发送方仅仅是停止发送，可能会导致死锁。考虑以下情况：

- 接收方处理完缓存中的数据，有了新的可用空间。
- 接收方向发送方发送了一个“窗口更新”报文（即一个窗口大小非0的ACK）。
- 不幸的是，这个“窗口更新”报文在网络中丢失了。 此时，发送方仍在等待窗口更新，而接收方则在等待新的数据。双方互相等待，形成死锁。

**3. 持续计时器 (Persistence Timer) 的作用：** 为了打破这种潜在的死锁，TCP设计了**持续计时器**。

- **启动时机**：当TCP发送方收到一个窗口大小为0的ACK时，它会启动持续计时器。
- **工作机制**：当持续计时器超时后，发送方会发送一个特殊的、只包含1字节数据的报文段，这个报文被称为**零窗口探测报文 (Zero-Window Probe)**。
- **目的**：这个探测报文会“**戳一下**”接收方，迫使接收方在回复的ACK中重新通告其当前的窗口大小。
  - 如果窗口仍然是0，发送方就重置持续计时器（通常会采用指数退避策略增加超时时间），继续等待。
  - 如果窗口已经非0，发送方就收到了新的可用窗口信息，可以恢复数据传输。 这样，即使之前的窗口更新报文丢失了，发送方也能通过周期性的探测来最终获取到新的窗口大小，从而避免了死锁。

**4. 其他计时器辨析：**

- **A. 重传计时器 (Retransmission Timer)**：用于实现TCP的可靠传输。当发送一个数据段后启动，若在计时器超时前未收到确认，则重传该数据段。
- **B. 时间等待计时器 (Time-wait Timer)**：用于TCP连接的“四次挥手”断开过程。主动关闭方在发送最后一个ACK后进入`TIME_WAIT`状态，并启动该计时器，以确保网络中所有与此连接相关的旧报文段都已消失。
- **C. 保活计时器 (Keepalive Timer)**：用于检测一个长时间空闲的连接是否仍然有效。当连接长时间无数据传输时，服务器会发送探测报文，检查客户端是否仍然存活。

**【备考提示】** TCP的四大计时器是每年408考试的热点，经常放在一个选择题的四个选项中进行辨析。考生必须清晰地掌握每个计时器解决的具体问题和其工作机制：

- **重传计时器** → 解决**数据丢失**问题（可靠性）。
- **持续计时器** → 解决**零窗口死锁**问题（流量控制）。
- **保活计时器** → 解决**空闲连接僵死**问题（连接管理）。
- **时间等待计时器** → 解决**连接关闭后报文残余**问题（连接管理）。