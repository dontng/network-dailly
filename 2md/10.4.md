好的，这是湖科大教书匠2024年10月4日发布的2026考研计算机网络每日一题。

### 题目原文 (Markdown格式)

**【单选题】** 假设某个路由器向其邻居路由器发送一个长度为200B的OSPF HELLO报文M，经过相应封装后通过以太网链路发送（不考虑物理层添加的前导码），则M的传输效率最大约是（ ）。

A. 81.30% B. 82.64% C. 84.03% D. 85.47%

------

### 408考研深度解析

**【考点分析】**

本题考察的是**数据封装过程**和**传输效率**的计算，是一道典型的综合计算题。解题需要清楚OSPF协议所在的层次、数据在各层封装时增加的开销，并最终计算有效载荷占总传输数据的比例。

**1. 确定封装层次和流程**

- **OSPF报文**：OSPF (开放最短路径优先) 是一种内部网关协议（IGP），它工作在网络层。但OSPF报文并不封装在TCP或UDP中，而是**直接封装在IP数据报的数据部分**。
- **IP封装**：因此，OSPF报文需要添加一个IP首部，构成IP数据报。
- **以太网封装**：该IP数据报随后被交给数据链路层，封装成以太网帧进行传输。这需要添加以太网的帧头和帧尾。

所以，最终在以太网链路上传输的帧结构如下： `[ 以太网帧头 | IP首部 | OSPF报文(M) | 以太网帧尾(FCS) ]`

**2. 计算各部分的大小**

- **有效数据 (Useful Data)**：题目要求计算报文M的传输效率，因此有效数据就是M本身。

  - M = **200 字节**

- **总传输数据 (Total Transmitted Data)**：即整个以太网帧的长度。

  - **IP首部**：题目没有特殊说明，使用标准的IPv4固定首部，长度为 **20 字节**。
  - **以太网帧头**：标准长度为 **14 字节** (6字节目的MAC + 6字节源MAC + 2字节类型)。
  - **以太网帧尾 (FCS)**：即帧检验序列，长度为 **4 字节**。

  因此，总传输数据长度 = (以太网帧头) + (IP首部) + (OSPF报文) + (以太网帧尾) = 14 + 20 + 200 + 4 = **238 字节**

**3. 考虑以太网最短帧长限制 (重要陷阱)**

- 标准以太网帧（从目的MAC到FCS）的最短长度为**64字节**。
- 这意味着其数据载荷部分（对以太网帧而言，即IP数据报）最短为 64 - 14 (帧头) - 4 (帧尾) = **46字节**。
- 在本题中，以太网帧的数据载荷是IP数据报，其长度为 20 (IP首部) + 200 (OSPF报文) = **220字节**。
- 因为 220字节 > 46字节，所以不需要填充（Padding）。我们的计算是有效的。如果载荷小于46字节，数据链路层会自动填充到46字节，此时计算总长度时应按最短帧长64字节计算。

**4. 计算传输效率**

- **公式**：传输效率 = (有效数据长度 / 总传输数据长度) × 100%

- **计算**：

  效率=238200×100%

  ≈0.840336×100%

  ≈84.03%

计算结果与C选项完全匹配。

**【备考提示】** 传输效率的计算是408考研的重点题型，通常涉及跨层封装。备考时务必做到：

1. **熟记协议栈**：清晰地知道常用协议（如HTTP, DNS, OSPF, RIP, TCP, UDP）在协议栈中的位置及其封装关系。一个易错点是：**OSPF和RIP直接封装在IP中，不使用TCP或UDP**。
2. **熟记首部开销**：牢记各层协议的最小/固定首部长度：以太网帧头+帧尾=18字节，IP首部=20字节，TCP首部=20字节，UDP首部=8字节。
3. **注意特殊限制**：时刻留意数据链路层的最短帧长和最长帧长（MTU）限制，判断是否需要进行数据填充或IP分片，这些是题目中常见的陷阱。